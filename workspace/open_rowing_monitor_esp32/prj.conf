# ------------------------------------------------
# Core C++ Support
# ------------------------------------------------
CONFIG_CPP=y
CONFIG_STD_CPP17=y

# ------------------------------------------------
# Standard Library Support
# ------------------------------------------------
CONFIG_GLIBCXX_LIBCPP=y
CONFIG_NEWLIB_LIBC=y

# ------------------------------------------------
# Physics & Math Performance
# ------------------------------------------------
CONFIG_FPU=y

# ------------------------------------------------
# System Tuning
# ------------------------------------------------
# REMOVE THIS LINE: CONFIG_CPP_MAIN=y
CONFIG_HEAP_MEM_POOL_SIZE=2048

# ------------------------------------------------
# Logging
# ------------------------------------------------
CONFIG_LOG=y
CONFIG_LOG_MODE_IMMEDIATE=y

# ------------------------------------------------
# Enable Multicore Support
# ------------------------------------------------
# CONFIG_SMP=y
# CONFIG_MP_MAX_NUM_CPUS=2

# ------------------------------------------------
# Flash & Storage (Internal 16MB)
# ------------------------------------------------
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_FLASH_PAGE_LAYOUT=y

CONFIG_FILE_SYSTEM=y

# CORRECTED: Use the new LittleFS symbol
CONFIG_FILE_SYSTEM_LITTLEFS=y

# Allow CPU to write to flash (Critical for N16)
CONFIG_MPU_ALLOW_FLASH_WRITE=y

# LittleFS Tuning (Optional)
CONFIG_FS_LITTLEFS_CACHE_SIZE=512

# ------------------------------------------------
# Hardware Specifics (ESP32-S3 N16R8)
# ------------------------------------------------
# 1. Flash Size: 16MB
CONFIG_ESPTOOLPY_FLASHSIZE_16MB=y

# 2. Flash Mode: DIO (Safest)
CONFIG_ESPTOOLPY_FLASHMODE_DIO=y
CONFIG_ESPTOOLPY_FLASHFREQ_80M=y

# 3. PSRAM (External RAM)
# ONLY Enable this. Remove MODE_OCT and SPEED_80M.
# The driver will auto-detect Octal mode from the chip hardware.
CONFIG_ESP_SPIRAM=y
CONFIG_ESP_SPIRAM_MEMTEST=y
