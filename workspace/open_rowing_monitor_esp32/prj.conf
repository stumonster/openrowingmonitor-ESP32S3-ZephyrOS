# ------------------------------------------------
# Core C++ Support
# ------------------------------------------------
CONFIG_CPP=y
CONFIG_STD_CPP17=y

# ------------------------------------------------
# Standard Library Support
# ------------------------------------------------
CONFIG_GLIBCXX_LIBCPP=y
CONFIG_NEWLIB_LIBC=y

# ------------------------------------------------
# Physics & Math Performance
# ------------------------------------------------
CONFIG_FPU=y

# ------------------------------------------------
# System Tuning
# ------------------------------------------------
# REMOVE THIS LINE: CONFIG_CPP_MAIN=y
# CONFIG_HEAP_MEM_POOL_SIZE=16384
CONFIG_MAIN_STACK_SIZE=4096

# ------------------------------------------------
# Logging
# ------------------------------------------------
CONFIG_LOG=y
CONFIG_LOG_MODE_IMMEDIATE=y

# ------------------------------------------------
# Enable Multicore Support
# ------------------------------------------------
# CONFIG_SMP=y
# CONFIG_MP_MAX_NUM_CPUS=2

# ------------------------------------------------
# Bluetooth Low Energy Settings
# ------------------------------------------------

# Basic Bluetooth Setup
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="Rowing-Monitor"
CONFIG_BT_DEVICE_APPEARANCE=833

# FTMS requires some extra GATT features
CONFIG_BT_GATT_DYNAMIC_DB=y
CONFIG_BT_L2CAP_TX_MTU=247
CONFIG_BT_BUF_ACL_TX_SIZE=251

# Optional: Enable Settings if you want to save the BLE "Identity" (Bonding)
# CONFIG_BT_SETTINGS=y
# CONFIG_FLASH=y
# CONFIG_NVS=y

# Increase number of Bluetooth transmit buffers
CONFIG_BT_L2CAP_TX_BUF_COUNT=10
CONFIG_BT_BUF_ACL_TX_COUNT=10
CONFIG_BT_BUF_EVT_RX_COUNT=11

# Ensure we don't crash on null connection during create
CONFIG_BT_CONN_CHECK_NULL_BEFORE_CREATE=y

# Maximum number of simultaneous Bluetooth connections
CONFIG_BT_MAX_CONN=2

# Maximum number of paired devices
CONFIG_BT_MAX_PAIRED=2

# Allow the device to act as a peripheral to multiple centrals
CONFIG_BT_PERIPHERAL=y
